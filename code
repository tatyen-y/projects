import time
import logging

# Настройка логирования
logging.basicConfig(level=logging.INFO, format='%(asctime)s - %(levelname)s - %(message)s')

li_cad_quart = ["кадастровый номер 1", "кадастровый номер 2"]  # Пример списка кадастровых номеров
y_li, x_li, cad_li, type_li, error_li = [], [], [], [], []

for i in range(len(li_cad_quart)):
    try:
        d3name = li_cad_quart[i]
        logging.info(f'Обработка кадастрового номера: {d3name}')
        area = Area(d3name, center_only=True, area_type=2, use_cache=True)
        coords = area.get_attrs()
        y_li.append(coords['center']['y'])
        x_li.append(coords['center']['x'])
        cad_li.append(d3name)
        type_li.append('Quartal')
        logging.info(f'Успешно добавлены координаты: Y={coords["center"]["y"]}, X={coords["center"]["x"]}')
    except Exception as e:
        logging.error(f'Ошибка при обработке {d3name}: {str(e)}')
        error_li.append(d3name)
    finally:
        time.sleep(6)  # Сохраняем паузу, но это можно адаптировать если используется асинхронное API

if error_li:
    logging.error(f'Ошибки произошли при обработке следующих номеров: {error_li}')




